var start = undefined,
    row,
    yDown,
    yFirst,
    t = 0,
    clearRow = new Array(),
    previousTimeStamp = undefined,
    nextBlock = 4 * Math.floor(Math.random() * 7),
    block,
    // skip = -1, // skip = -10 la chua bao h skip
    // skipStatus = false,
    lv = 10,
    wait = 0,
    img = new Image(),
    imgNext = new Image(),
    imgSkip = new Image(),
    skipCanvas = document.getElementById("skipCanvas").getContext("2d"),
    saveCanvas = document.getElementById("saveCanvas").getContext("2d"),
    dropCanvas = document.getElementById("dropCanvas").getContext("2d"),
    nextCanvas = document.getElementById("nextCanvas").getContext("2d"),
    scoreCanvas = document.getElementById("scoreCanvas").getContext("2d"),
    key = "none",
    main = new Array(),
    x0 = [-1, 2, -2, 1, 0, 1, -1, 0, 0, 1, -1, 0, 0, 1, -1, 0, 0, 1, -1, 0, 0, 1, -1,
        0, 0, 0, 0, 0,
    ],
    x1 = [
        0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0,
        0, 0, 0,
    ],
    x2 = [
        1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 2, 0, 2, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1,
        1, 1, 1,
    ],
    x3 = [
        2, 0, 2, 0, 1, 0, 2, 1, 1, 0, 2, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0,
        0, 0, 0,
    ],
    x4 = [
        3, 0, 3, 0, 2, 1, 0, 1, 2, 0, 2, 1, 1, 1, 1, 1, 2, 0, 2, 0, 2, 0, 1, 1, 1,
        1, 1, 1,
    ],
    xSize = [
        4, 1, 4, 1, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 2,
        2, 2, 2,
    ],
    y0 = [
        2, -2, 1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0,
    ],
    y2 = [
        0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0,
        0, 0, 0,
    ],
    y3 = [
        0, 2, 0, 2, 1, 2, 0, 1, 1, 1, 0, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1,
        1, 1, 1,
    ],
    y4 = [
        0, 3, 0, 3, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1,
        1, 1, 1,
    ],
    src = [
        "./img/i1.png",
        "./img/i2.png",
        "./img/i3.png",
        "./img/i4.png",
        "./img/l1.png",
        "./img/l2.png",
        "./img/l3.png",
        "./img/l4.png",
        "./img/ln1.png",
        "./img/ln2.png",
        "./img/ln3.png",
        "./img/ln4.png",
        "./img/s1.png",
        "./img/s2.png",
        "./img/s3.png",
        "./img/s4.png",
        "./img/sn1.png",
        "./img/sn2.png",
        "./img/sn3.png",
        "./img/sn4.png",
        "./img/t1.png",
        "./img/t2.png",
        "./img/t3.png",
        "./img/t4.png",
        "./img/v.png",
        "./img/v.png",
        "./img/v.png",
        "./img/v.png",
    ],
    color = [
        "#00ffff ",
        "#00ffff ",
        "#00ffff ",
        "#00ffff ",
        "#ffcc33 ",
        "#ffcc33 ",
        "#ffcc33 ",
        "#ffcc33 ",
        "#0000ff ",
        "#0000ff ",
        "#0000ff ",
        "#0000ff ",
        "#00ff00 ",
        "#00ff00 ",
        "#00ff00 ",
        "#00ff00 ",
        "#ff0000 ",
        "#ff0000 ",
        "#ff0000 ",
        "#ff0000 ",
        "#800080 ",
        "#800080 ",
        "#800080 ",
        "#800080 ",
        "#ffff00 ",
        "#ffff00 ",
        "#ffff00 ",
        "#ffff00 ",
        "transparent",
    ];
for (let i = 0; i < 230; i++) {
    main[i] = "transparent";
}
// randomBlock();